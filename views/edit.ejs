<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scenes&Pages</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles/main.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">   
</head>
<body class="icons-body">

   <!-- Include header -->
    <%- include("partials/header.ejs") %>
  
    <div class="container-fluid mt-5 create">
      <div class="row justify-content-center me-5">
        <div class=" col-lg-7">
          <!-- Input form -->
          <div class="card p-4 mt-4">
            <form action="/update/<%=review.id%>" method="POST">
              <img src="/images/review-img.jpg" class="rounded mx-auto d-block"  style="width: 25rem" alt="...">
              <!-- Title Input -->
              <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <input class="form-control" type="text" value="<%= review.title%>"  name="title" aria-label="user can edit the review">      
                      </div>
              <!-- Review Text Area -->
              <div class="mb-3">
                <label for="review" class="form-label">My Review  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class=" mb-1 bi bi-pencil-square" viewBox="0 0 16 16">
                  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
                </svg></label>
                <textarea class="form-control" id="review" rows="4"  name="review"><%= review.review%></textarea>
              </div>
  
              
              <!-- Genre Dropdown -->
              <div class="mb-3">
                <label for="genre" class="form-label">Genre</label>
                <select class="form-select" id="genre" name="genre" >
                  <option selected>Select Genre</option>
                  <option value="Action">Action</option>
                  <option value="Drama">Drama</option>
                  <option value="Comedy">Comedy</option>
                  <option value="Horror">Horror</option>
                  <option value="Sci-fi">Sci-Fi</option>
                  <option value="Sci-fi">Crime</option>
                  <option value="Sci-fi">Science Fiction</option>
                  <option value="Sci-fi">Historical Fiction</option>
                  <option value="Sci-fi">Romance</option>
                  <option value="Sci-fi">Thriller</option>
                  <option value="Sci-fi">Literary Fiction</option>
  
                </select>
              
                 <!-- Media Type Input -->
                <div class="mb-3">
                    <label for="Media" class="form-label">Media Type</label>
                    <input class="form-control" type="text" value="<%= review.mediaType%>" name="mediaType" aria-label="user can edit the review">    
                </div>
              
                    <!-- Rating Display and Dropdown -->
                    <div class="rating"> 
                      <%= review.rating %>
                      <% if (review.rating > 1) { %>Stars<% } else { %>Star<% } %>
          
                      <% for (let j = 0; j < review.rating; j++) { %>
                          <i class="fa fa-star text-warning"></i>
                      <% } %>
                      <% for (let k = review.rating; k < 5; k++) { %>
                          <i class="fa fa-star-o text-warning"></i>
                      <% } %>
                  </div>
                  <div class="rating-creat mb-3"> 
                    <label for="rating" class="form-label">Rating</label>
                    <select class="form-select" id="rating" name="rating" required>
                      <option value="1">1 Star</option>
                      <option value="2">2 Stars</option>
                      <option value="3">3 Stars</option>
                      <option value="4">4 Stars</option>
                      <option value="5">5 Stars</option>
                    </select>
                    </div>
              <!-- Submit Button -->
               <div class="text-end"> 
              <button type="submit" class="btn btn-light pt-3 pb-3 ps-5 pe-5 me-2 rounded-pill">Save Changes</button>
            </form>
            <!-- Delete Button -->
            <form action="/delete/<%= review.id %>" method="POST" class="d-inline">
              <button type="submit" class="btn btn-light pt-3 pb-3 ps-3 pe-3 rounded-5">Delete</button>
            </form>
          </div>
          </div>
        </div> 
        </div>
      </div>
    </div>
  </div>
</div>
      <!-- Bootstrap JS Bundle -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

      <!-- Include footer -->
      <%- include("partials/footer.ejs") %> 
</body>
</html>