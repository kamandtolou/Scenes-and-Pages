<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scenes&Pages</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/styles/main.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="icons-body">

    <!-- Include header -->
    <%- include("partials/header.ejs") %>

    <div class="container-fluid mt-5 create">
      <div class="row justify-content-center me-5">
        <!-- Input form -->
        <div class=" col-lg-7">
          <div class="card p-4 mt-4">
            <form action="/edit/<%=review.id%>" method="GET" >

              <!-- Review image -->
              <img src="/images/review-img.jpg" class="rounded mx-auto d-block"  style="width: 25rem" alt="...">
              <!-- Title Input -->
              <div class="mb-3">
                <label for="title" class="form-label">Title</label>
               
                <input class="form-control" type="text" value=" <%= review.title %>" aria-label="readonly input example" readonly>              </div>
              <!-- Review Text Area -->
              <div class="mb-3">
                <label for="review" class="form-label">My Review  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class=" mb-1 bi bi-pencil-square" viewBox="0 0 16 16">
                  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
                </svg></label>
                <textarea class="form-control" id="review" rows="4" placeholder=" <%= review.review %>" readonly></textarea>
              </div>
  
              
                <!-- Genre Input -->
              <div class="mb-3">
                <label for="genre" class="form-label">Genre</label>
                <input class="form-control" type="text" value="<%= review.genre %>" aria-label="readonly input example" readonly>         
              </div>

               <!-- Media Type Input -->
                <div class="mb-3">
                    <label for="Media" class="form-label">Media Type</label>
                    <input class="form-control" type="text" value="<%= review.mediaType %>" aria-label="readonly input example" readonly>       
                </div>
              
                      <!-- Review Rating Display -->
                    <div class="rating"> 
                      <%= review.rating %>
                      <% if (review.rating > 1) { %>Stars<% } else { %>Star<% } %>
          
                      <% for (let j = 0; j < review.rating; j++) { %>
                          <i class="fa fa-star text-warning"></i>
                      <% } %>
                      <% for (let k = review.rating; k < 5; k++) { %>
                          <i class="fa fa-star-o text-warning"></i>
                      <% } %>
                  </div>
              <!-- Buttons for editing and deleting the review -->
                  <div class="text-end"> 
                  <button type="submit" class="btn btn-light pt-3 pb-3 ps-5 pe-5 me-2 rounded-pill">Edit</button>
            </form>
             <!-- Form for deleting the review -->
            <form action="/delete/<%= review.id %>" method="POST" class="d-inline">
              <button type="submit" class="btn btn-light pt-3 pb-3 ps-3 pe-3 rounded-5">Delete</button>
            </form>
          </div>
          </div>
          <hr>
        </div>
        
        
        <div class="row text justify-content-center me-5"></div>
        <!-- Text Content -->
        <div class="col-md-5 text text-center mt-5 mb-5">
          <hr>
          <h3 class="mb-4">"Discover Your Next Favorite Story"</h3>
          <p>
           Scenes&Pages is where every book, movie, and series comes alive through shared experiences. Join us as we celebrate storytelling and connect with fellow enthusiasts.          </p>
          <p>
            Write your first review and share it with the world!          </p>
            <form action="/create" method="get">
            <button type="submit" class="btn btn-dark p-3 pe-4 ps-4 rounded-5">Write a Review</button>
          </form>
            <hr>
            <h2 class="caro mt-5"> Related Reviews</h2>
        </div>
      </div>
    </div>

 
    <div class="container caro">
      <!-- Carousel for related reviews -->
      <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner caro">
          
          <% for (let i = 0; i < 6; i++) { %>
            <div class="carousel-item <%= i === 0 ? 'active' : '' %>" data-bs-interval="10000">
              <div class="row mb-2">
                <div class="col-md-6">
                  <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                    <div class="col p-4 d-flex flex-column position-static">
                      <strong class="d-inline-block mb-2"><%= reviews[i].genre %> </strong>
                      <h3 class="mb-2" name="title"><%=reviews[i].title%> </h3>
                      <div class="mb-2">Category : <%=reviews[i].mediaType%></div>
                      <p class="card-text  mt-0 mb-2 d-inline-block text-truncate" style=" max-width: 300px" name="review"><%=reviews[i].review%></p> 
                      <a href="#" class="icon-link gap-1 caro stretched-link">
                        Continue reading
                        <svg class="bi">
                          <use xlink:href="#chevron-right"></use>
                        </svg>
                      </a>
                    </div>
                    <div class="col-auto d-none d-lg-block">
                      
                      <img class="rev-image" src="/images/carousel-img-1.png"/>
                    </div>
                  </div>
                </div>
                <% i++ %>
                <div class="col-md-6">
                  <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                    <div class="col p-4 d-flex flex-column position-static"> 
                      <p class="d-inline-block "> <strong class="d-inline-block mb-2" ><%= reviews[i].genre %></strong> </p>
                      <h3 class="mb-2" name="title"><%=reviews[i].title%></h3>
                      <div class="mb-2" name="mediaType">Category : <%=reviews[i].mediaType%></div>
                      <p class="card-text  mt-0 mb-2 d-inline-block text-truncate" style=" max-width: 300px" name="review"><%=reviews[i].review%></p>
                      <a href="#" class="icon-link gap-1 icon-link-hover caro stretched-link">
                        Continue reading
                        <svg class="bi">
                          <use xlink:href="#chevron-right"></use>
                        </svg>
                      </a>
                    </div>
                    <div class="col-auto d-none d-lg-block">
                      <img class="rev-image" src="/images/carousel-img-2.png"/>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        
          
            <% } %>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  
<!-- Bootstrap JavaScript bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Include footer -->
    <%- include("partials/footer.ejs") %>
    
</body>

</html>
